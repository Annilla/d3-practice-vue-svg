webpackJsonp([1],{LYgH:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("7+uW"),i={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]},r=e("VU/8")({name:"app"},i,!1,function(t){e("ZceC")},null,null).exports,o=(e("j1ja"),e("/ocq")),s={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"hello"},[a("ul",[a("li",[a("router-link",{attrs:{to:{name:"LineChart"}}},[this._v("折線圖")])],1),this._v(" "),a("li",[a("router-link",{attrs:{to:{name:"BarPChart"}}},[this._v("橫條圖")])],1),this._v(" "),a("li",[a("router-link",{attrs:{to:{name:"DonutChart"}}},[this._v("甜甜圈圖")])],1)])])},staticRenderFns:[]},c=e("VU/8")({},s,!1,function(t){e("OlQf")},null,null).exports,u=e("vwbq"),h={data:function(){return{data:[],chart:{width:500,height:500,paddingTop:30,paddingRight:30,paddingBottom:100,paddingLeft:60},hideTooltip:!0}},computed:{viewBox:function(){return"0 0 "+(this.chart.width+this.chart.paddingRight+this.chart.paddingLeft)+" "+(this.chart.height+this.chart.paddingTop+this.chart.paddingBottom)},startPoint:function(){return"translate("+this.chart.paddingLeft+", "+this.chart.paddingTop+")"},dataArray:function(){var t=[];return this.data.forEach(function(a,e){var n=[];a.value.forEach(function(t){n.push(t.number)}),t.push(n)}),t},xAxis:function(){var t=this;return u.b(this.xScale).ticks(5).tickFormat(function(a,e){return t.xLabel[e]})},yAxis:function(){return u.c(this.yScale).tickSizeInner(-this.chart.height)},xScale:function(){return u.h().domain([0,this.data[0].value.length]).range([0,this.chart.width])},yScale:function(){var t=void 0,a=[];return this.data.forEach(function(t,e){t.value.forEach(function(t){a.push(t.number)})}),t=u.f(a),u.h().domain([0,t]).range([this.chart.height,0])},xLabel:function(){var t=[""];return this.data[0].value.forEach(function(a){t.push(a.month)}),t},axisYText:function(){return[0-this.chart.height/2,0-this.chart.paddingLeft]},color:function(){return u.i(u.j)},line:function(){var t=this,a=u.e().x(function(a,e){return t.xScale(e+1)}).y(function(a){return t.yScale(a)}),e=[];return this.dataArray.forEach(function(n,i){e.push({d:a(n),color:t.color(i)})}),e},dot:function(){var t=this,a=[];return this.dataArray.forEach(function(e,n){var i=[];e.forEach(function(a,e){i.push({cx:t.xScale(e+1),cy:t.yScale(a)})}),a.push({circle:i,color:t.color(n)})}),a},label:function(){var t=this,a=[];return this.data.forEach(function(e,n){a.push({name:e.name,cx:100*n,cy:t.chart.height+45,color:t.color(n),x:100*n+10,y:t.chart.height+50})}),a}},mounted:function(){this.randomData()},methods:{randomData:function(){for(var t=[{name:"鼓山區",value:[{month:"6月",number:"233"},{month:"7月",number:"412"},{month:"8月",number:"533"},{month:"9月",number:"267"},{month:"10月",number:"321"}]},{name:"左營區",value:[{month:"6月",number:"432"},{month:"7月",number:"443"},{month:"8月",number:"334"},{month:"9月",number:"233"},{month:"10月",number:"114"}]},{name:"楠梓區",value:[{month:"6月",number:"222"},{month:"7月",number:"333"},{month:"8月",number:"441"},{month:"9月",number:"468"},{month:"10月",number:"378"}]}],a=0;a<3;a++)t[a].value.forEach(function(t){t.number=Math.floor(501*Math.random())+0});this.data=t,document.querySelector(".chart .axisX").innerHTML="",document.querySelector(".chart .axisY").innerHTML="",u.l(".chart .axisX").call(this.xAxis),u.l(".chart .axisY").call(this.yAxis)},showTooltip:function(t,a,e){var n=e.clientX+20,i=e.clientY;document.querySelector(".tooltip").setAttribute("style","left: "+n+"px; top: "+i+"px;"),document.querySelector(".tooltip .name").innerHTML=this.data[t].name+" / "+this.data[t].value[a].month,document.querySelector(".tooltip .value").innerHTML=this.data[t].value[a].number+" 件",this.hideTooltip=!1},hiddenTooltip:function(){this.hideTooltip=!0}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"lineChart"},[e("h1",[t._v("折線圖")]),t._v(" "),e("div",{staticClass:"detail"},[t._v("高雄市不動產買賣統計(104年6-10月)")]),t._v(" "),e("div",{staticClass:"chartContain"},[e("svg",{staticClass:"chart",attrs:{viewBox:t.viewBox,preserveAspectRatio:"xMidYMin slice"}},[e("g",{staticClass:"chartWrap",attrs:{transform:t.startPoint}},[e("g",{staticClass:"axis axisX",attrs:{transform:"translate(0, "+t.chart.height+")",fill:"none","font-size":"10","font-family":"sans-serif","text-anchor":"middle"}}),t._v(" "),e("g",{staticClass:"axis axisY",attrs:{fill:"none","font-size":"10","font-family":"sans-serif","text-anchor":"end"}}),t._v(" "),e("text",{staticClass:"axisYText",attrs:{x:t.axisYText[0],y:t.axisYText[1],dy:"1em",transform:"rotate(-90)","text-anchor":"middle"}},[t._v("件數")]),t._v(" "),e("transition-group",{attrs:{tag:"g",name:"growLine"}},t._l(t.line,function(t,a){return e("path",{key:""+a+t.d,staticClass:"line",attrs:{fill:"none",stroke:t.color,d:t.d}})})),t._v(" "),t._l(t.dot,function(a,n){return e("g",{key:n,staticClass:"dot"},[e("transition-group",{attrs:{tag:"g",name:"growDot"}},t._l(a.circle,function(i,r){return e("circle",{key:""+r+i.cx+i.cy,attrs:{cx:i.cx,cy:i.cy,r:"5",fill:a.color,stroke:"white"},on:{mouseover:function(a){t.showTooltip(n,r,a)},mouseout:t.hiddenTooltip}})}))],1)}),t._v(" "),t._l(t.label,function(a,n){return e("g",{key:n,staticClass:"label"},[e("circle",{attrs:{cx:a.cx,cy:a.cy,r:"5",fill:a.color}}),t._v(" "),e("text",{attrs:{x:a.x,y:a.y}},[t._v(t._s(a.name))])])})],2)]),t._v(" "),e("div",{class:{tooltip:!0,hidden:t.hideTooltip}},[e("div",{staticClass:"name"},[t._v("左營區 / 10月")]),t._v(" "),e("div",{staticClass:"value"},[t._v("214 件")])])]),t._v(" "),e("button",{on:{click:t.randomData}},[t._v("隨機資料")])])},staticRenderFns:[]},d=e("VU/8")(h,l,!1,function(t){e("LYgH")},null,null).exports,f={data:function(){return{data:[],chart:{width:500,height:500,paddingTop:30,paddingRight:30,paddingBottom:100,paddingLeft:60},hideTooltip:!0}},computed:{viewBox:function(){return"0 0 "+(this.chart.width+this.chart.paddingRight+this.chart.paddingLeft)+" "+(this.chart.height+this.chart.paddingTop+this.chart.paddingBottom)},startPoint:function(){return"translate("+this.chart.paddingLeft+", "+this.chart.paddingTop+")"},valueLength:function(){return this.data.value?this.data.value.length:0},xAxis:function(){return u.b(this.xScale).tickSizeInner(-this.chart.width)},yAxis:function(){var t=this,a=this.valueLength<3?this.valueLength+1:this.valueLength;return u.c(this.yScale).ticks(a).tickFormat(function(a,e){return t.yLabel[e]})},xScale:function(){var t=void 0,a=[];return this.data.value.forEach(function(t){a.push(t.number)}),t=u.f(a),u.h().domain([0,t]).range([0,this.chart.width])},yScale:function(){return u.h().domain([0,this.data.value.length+1]).range([this.chart.height,0])},yLabel:function(){var t=[""];return this.data.value.forEach(function(a){t.push(a.month)}),t},axisYText:function(){return[this.chart.width/2-15,this.chart.height+30]},color:function(){return u.i(u.j)},barWidth:function(){return this.chart.height/(this.valueLength+1)-20},bar:function(){var t=this,a=[];return this.data.value&&this.data.value.forEach(function(e,n){a.push({color:t.color(0),x:0,y:t.yScale(n+1)-t.barWidth/2,width:t.xScale(e.number),height:t.barWidth})}),a},barText:function(){var t=this,a=[];return this.data.value&&this.data.value.forEach(function(e,n){a.push({x:t.xScale(e.number)-20,y:t.yScale(n+1)+5,number:e.number})}),a}},mounted:function(){this.randomData()},methods:{randomData:function(){for(var t=Math.floor(12*Math.random())+1,a={name:"鼓山區",value:[]},e=0;e<t;e++)a.value.push({month:e+1+"月",number:Math.floor(501*Math.random())+0});this.data=a,document.querySelector(".chart .axisX").innerHTML="",document.querySelector(".chart .axisY").innerHTML="",u.l(".chart .axisX").call(this.xAxis),u.l(".chart .axisY").call(this.yAxis)},showTooltip:function(t,a){var e=a.clientX+20,n=a.clientY;document.querySelector(".tooltip").setAttribute("style","left: "+e+"px; top: "+n+"px;"),document.querySelector(".tooltip .name").innerHTML=this.data.name+" / "+this.data.value[t].month,document.querySelector(".tooltip .value").innerHTML=this.data.value[t].number+" 件",this.hideTooltip=!1},hiddenTooltip:function(){this.hideTooltip=!0}}},v={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"barpChart"},[e("h1",[t._v("橫條圖")]),t._v(" "),e("div",{staticClass:"detail"},[t._v("高雄市鼓山區不動產買賣統計(104年6-10月)")]),t._v(" "),e("div",{staticClass:"chartContain"},[e("svg",{staticClass:"chart",attrs:{viewBox:t.viewBox,preserveAspectRatio:"xMidYMin slice"}},[e("g",{staticClass:"chartWrap",attrs:{transform:t.startPoint}},[e("g",{staticClass:"axis axisX",attrs:{transform:"translate(0, "+t.chart.height+")",fill:"none","font-size":"10","font-family":"sans-serif","text-anchor":"middle"}}),t._v(" "),e("g",{staticClass:"axis axisY",attrs:{fill:"none","font-size":"10","font-family":"sans-serif","text-anchor":"end"}}),t._v(" "),e("text",{staticClass:"axisYText",attrs:{x:t.axisYText[0],y:t.axisYText[1],dy:"1em","text-anchor":"middle"}},[t._v("件數")]),t._v(" "),e("transition-group",{attrs:{tag:"g",name:"growBarp"}},t._l(t.bar,function(a,n){return e("rect",{key:""+n+a.width+a.y,staticClass:"bar",attrs:{fill:a.color,x:a.x,y:a.y,width:a.width,height:a.height},on:{mouseover:function(a){t.showTooltip(n,a)},mouseout:t.hiddenTooltip}})})),t._v(" "),t._l(t.barText,function(a,n){return e("g",{key:n,staticClass:"barText"},[e("text",{attrs:{fill:"white","text-anchor":"middle",x:a.x,y:a.y}},[t._v(t._s(a.number))])])})],2)]),t._v(" "),e("div",{class:{tooltip:!0,hidden:t.hideTooltip}},[e("div",{staticClass:"name"},[t._v("左營區 / 10月")]),t._v(" "),e("div",{staticClass:"value"},[t._v("214 件")])])]),t._v(" "),e("button",{on:{click:t.randomData}},[t._v("隨機資料")])])},staticRenderFns:[]},m=e("VU/8")(f,v,!1,function(t){e("mG/8")},null,null).exports,p={data:function(){return{data:[],chart:{innerRadius:100,outerRadius:200},hideTooltip:!0}},computed:{radius:function(){return this.chart.outerRadius-(this.chart.outerRadius-this.chart.innerRadius)/2},circum:function(){return 2*Math.PI*this.radius},color:function(){return u.i(u.k)},totalSum:function(){var t=0;return this.data.length&&this.data.forEach(function(a,e){t+=a.value}),t},donut:function(){var t=this,a=[],e=0;return this.data.length&&this.data.forEach(function(n,i){a.push({percentage:n.value/t.totalSum*100,offset:t.circum*(1-e),color:t.color(i)}),e+=n.value/t.totalSum}),a},pie:function(){var t=this,a=[],e=u.d(".0p"),n=u.g().sort(null).value(function(t){return t.value})(this.data);return this.data.length&&this.data.forEach(function(i,r){var o=u.a().innerRadius(t.chart.innerRadius).outerRadius(t.chart.outerRadius);a.push({d:o({startAngle:n[r].startAngle,endAngle:n[r].endAngle}),centroid:o.centroid(n[r]),percentage:e(i.value/t.totalSum)})}),a}},mounted:function(){this.randomData()},methods:{randomData:function(){var t=this,a=[];[{name:"鼓山區",value:233},{name:"左營區",value:290},{name:"楠梓區",value:355},{name:"三民區",value:340},{name:"苓雅區",value:173},{name:"前鎮區",value:199},{name:"小港區",value:145},{name:"鳳山區",value:394},{name:"大寮區",value:151},{name:"仁武區",value:139},{name:"岡山區",value:107}].forEach(function(t,e){Math.random()>=.5&&a.push(t)}),a.forEach(function(t){t.value=Math.floor(501*Math.random())+0}),this.data=a,this.$nextTick().then(function(){t.donut.forEach(function(a,e){var n=t.dasharray(a.percentage);t.$refs.circles[e].style.cssText="stroke-dasharray: 0 "+t.circum+"; opacity: 0",setTimeout(function(){t.$refs.circles[e].style.cssText="stroke-dasharray: "+n.dash+" "+n.gap+"; opacity: 1"},500)})})},dasharray:function(t){return{dash:this.circum/100*t,gap:this.circum/100*(100-t)}},showTooltip:function(t,a){var e=a.clientX+20,n=a.clientY;document.querySelector(".tooltip").setAttribute("style","left: "+e+"px; top: "+n+"px;"),document.querySelector(".tooltip .name").innerHTML=this.data[t].name+" / "+this.pie[t].percentage,document.querySelector(".tooltip .value").innerHTML=this.data[t].value+" 件",this.hideTooltip=!1},hiddenTooltip:function(){this.hideTooltip=!0}}},x={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"donutChart"},[e("h1",[t._v("甜甜圈圖")]),t._v(" "),e("div",{staticClass:"detail"},[t._v("高雄市不動產買賣統計(104年6月)")]),t._v(" "),e("div",{staticClass:"chartContain"},[e("div",{staticClass:"chartWrap"},[e("svg",{staticClass:"chart",attrs:{viewBox:"0 0 "+2*t.chart.outerRadius+" "+2*t.chart.outerRadius,preserveAspectRatio:"xMidYMin slice"}},[t._l(t.donut,function(a,n){return e("circle",{key:""+n+a.percentage+a.offset,ref:"circles",refInFor:!0,staticClass:"circle",attrs:{r:t.radius,cx:t.chart.outerRadius,cy:t.chart.outerRadius,"stroke-width":t.chart.outerRadius-t.chart.innerRadius,"stroke-dashoffset":a.offset,stroke:a.color,fill:"transparent"}})}),t._v(" "),t._l(t.pie,function(a,n){return e("g",{key:""+n+a.d,staticClass:"arc",attrs:{transform:"translate("+t.chart.outerRadius+","+t.chart.outerRadius+") rotate(90)"},on:{mouseover:function(a){t.showTooltip(n,a)},mouseout:t.hiddenTooltip}},[e("path",{attrs:{fill:"transparent",d:a.d}}),t._v(" "),e("text",{attrs:{transform:"translate("+a.centroid+")","text-anchor":"middle",fill:"white"}},[t._v(t._s(a.percentage)+"\n          ")])])})],2)]),t._v(" "),e("ul",{staticClass:"labelWrap"},t._l(t.pie,function(a,n){return e("li",{key:""+n+a.d},[e("span",{staticClass:"color",style:"background-color: "+t.donut[n].color+";"}),t._v(" "),e("span",{staticClass:"region"},[t._v(t._s(t.data[n].name))]),t._v(" "),e("span",{staticClass:"percentage"},[t._v(t._s(a.percentage))])])})),t._v(" "),e("div",{class:{tooltip:!0,hidden:t.hideTooltip}},[e("div",{staticClass:"name"},[t._v("左營區 / 10%")]),t._v(" "),e("div",{staticClass:"value"},[t._v("214 件")])])]),t._v(" "),e("button",{on:{click:t.randomData}},[t._v("隨機資料")])])},staticRenderFns:[]},g=e("VU/8")(p,x,!1,function(t){e("eSHs")},null,null).exports;n.a.use(o.a);var _=new o.a({mode:"history",fallback:!1,routes:[{path:"/d3-practice-vue-svg/dist/",name:"HelloWorld",component:c},{path:"/d3-practice-vue-svg/dist/LineChart",name:"LineChart",component:d},{path:"/d3-practice-vue-svg/dist/BarPChart",name:"BarPChart",component:m},{path:"/d3-practice-vue-svg/dist/DonutChart",name:"DonutChart",component:g},{path:"*",redirect:"/d3-practice-vue-svg/dist/"}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:_,template:"<App/>",components:{App:r}})},OlQf:function(t,a){},ZceC:function(t,a){},eSHs:function(t,a){},"mG/8":function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.4336a0f95a450802e04e.js.map